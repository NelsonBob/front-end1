{"ast":null,"code":"import _objectSpread from\"C:/Users/nelsf/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nelsf/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useCallback}from\"react\";import{useDropzone}from'react-dropzone';import'./App.css';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfiles=function UserProfiles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userProfiles=_useState2[0],setUserProfiles=_useState2[1];var fetchUserProfiles=function fetchUserProfiles(){axios.get(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile\").then(function(res){console.log(res);var data=res.data;setUserProfiles(res.data);});};useEffect(function(){fetchUserProfiles();},[]);return userProfiles.map(function(userProfile,index){return/*#__PURE__*/_jsxs(\"div\",{children:[userProfile.userProfileId?/*#__PURE__*/_jsx(\"img\",{src:\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile/\".concat(userProfile.userProfileId,\"/image/download\")}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h1\",{children:[userProfile.username,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[userProfile.username,\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:userProfile.userProfileId}),/*#__PURE__*/_jsx(Dropzone,_objectSpread({},userProfile)),/*#__PURE__*/_jsx(\"br\",{})]},index);});};function Dropzone(_ref){var userProfileId=_ref.userProfileId;var onDrop=useCallback(function(acceptedFiles){// Do something with the files\nvar file=acceptedFiles[0];console.log(file);var formData=new FormData();formData.append(\"file\",file);axios.post(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile/\".concat(userProfileId,\"/image/upload\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(){console.log(\"file upload successfully\");}).catch(function(err){console.log(err);});},[]);var _useDropzone=useDropzone({onDrop:onDrop}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive;return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),isDragActive?/*#__PURE__*/_jsx(\"p\",{children:\"Drop the image  here ...\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Drag 'n' drop profile image here, or click to select files\"})]}));}function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(UserProfiles,{})});}export default App;","map":{"version":3,"sources":["C:/Users/nelsf/OneDrive/Bureau/frontend/src/App.js"],"names":["React","useState","useEffect","useCallback","useDropzone","axios","UserProfiles","userProfiles","setUserProfiles","fetchUserProfiles","get","then","res","console","log","data","map","userProfile","index","userProfileId","username","Dropzone","onDrop","acceptedFiles","file","formData","FormData","append","post","headers","catch","err","getRootProps","getInputProps","isDragActive","App"],"mappings":"uMAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,CAAiCC,WAAjC,KAAmD,OAAnD,CACA,OAAQC,WAAR,KAA0B,gBAA1B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,GAAOC,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,EAAM,CAEzB,cAAuCL,QAAQ,CAAC,EAAD,CAA/C,wCAAOM,YAAP,eAAoBC,eAApB,eAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BJ,KAAK,CAACK,GAAN,CAAU,iEAAV,EAA6EC,IAA7E,CAAkF,SAAAC,GAAG,CAAI,CACvFC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAMG,CAAAA,IAAI,CAAGH,GAAG,CAACG,IAAjB,CACAP,eAAe,CAACI,GAAG,CAACG,IAAL,CAAf,CACD,CAJD,EAKD,CAND,CAQAb,SAAS,CAAC,UAAM,CACdO,iBAAiB,GAClB,CAFQ,CAEP,EAFO,CAAT,CAGA,MAAOF,CAAAA,YAAY,CAACS,GAAb,CAAiB,SAACC,WAAD,CAAaC,KAAb,CAAuB,CAC7C,mBACI,uBACKD,WAAW,CAACE,aAAZ,cAA8B,YAAK,GAAG,2EAAuEF,WAAW,CAACE,aAAnF,mBAAR,EAA9B,CAA+J,IADpK,cAGE,aAHF,cAIE,aAJF,cAME,sBAAKF,WAAW,CAACG,QAAjB,OANF,cAOE,sBAAKH,WAAW,CAACG,QAAjB,OAPF,cAQE,mBAAIH,WAAW,CAACE,aAAhB,EARF,cASE,KAAC,QAAD,kBAAcF,WAAd,EATF,cAUE,aAVF,GAAUC,KAAV,CADJ,CAeD,CAhBM,CAAP,CAiBD,CAhCD,CAkCA,QAASG,CAAAA,QAAT,MAAmC,IAAhBF,CAAAA,aAAgB,MAAhBA,aAAgB,CACjC,GAAMG,CAAAA,MAAM,CAAGnB,WAAW,CAAC,SAAAoB,aAAa,CAAI,CAC1C;AACA,GAAMC,CAAAA,IAAI,CAAGD,aAAa,CAAC,CAAD,CAA1B,CACAV,OAAO,CAACC,GAAR,CAAYU,IAAZ,EACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBH,IAAvB,EAEAnB,KAAK,CAACuB,IAAN,2EACoET,aADpE,kBAEAM,QAFA,CAGA,CACEI,OAAO,CAAC,CACN,eAAgB,qBADV,CADV,CAHA,EAQGlB,IARH,CAQQ,UAAI,CACVE,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACD,CAVD,EAUGgB,KAVH,CAUS,SAAAC,GAAG,CAAI,CACdlB,OAAO,CAACC,GAAR,CAAYiB,GAAZ,EACD,CAZD,EAcD,CArByB,CAqBvB,EArBuB,CAA1B,CAsBA,iBAAoD3B,WAAW,CAAC,CAACkB,MAAM,CAANA,MAAD,CAAD,CAA/D,CAAOU,YAAP,cAAOA,YAAP,CAAqBC,aAArB,cAAqBA,aAArB,CAAoCC,YAApC,cAAoCA,YAApC,CAEA,mBACE,2CAASF,YAAY,EAArB,6BACE,8BAAWC,aAAa,EAAxB,EADF,CAGIC,YAAY,cAEP,+CAFO,cAGV,iFANN,IADF,CAYD,CAED,QAASC,CAAAA,GAAT,EAAe,CAEb,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,YAAD,IADF,EADF,CAKD,CAED,cAAeA,CAAAA,GAAf","sourcesContent":["import React,{useState,useEffect,useCallback} from \"react\";\r\nimport {useDropzone} from 'react-dropzone'\r\nimport './App.css';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst  UserProfiles =() => {\r\n\r\n  const [userProfiles,setUserProfiles] = useState([]);\r\n\r\n  const fetchUserProfiles = () => {\r\n    axios.get(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile\").then(res => {\r\n      console.log(res);\r\n      const data = res.data;\r\n      setUserProfiles(res.data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserProfiles();\r\n  },[]);\r\n  return userProfiles.map((userProfile,index) => {\r\n    return (\r\n        <div key={index}>\r\n          {  userProfile.userProfileId ? ( <img src = {`https://back-everglades-21857.herokuapp.com/api/v1/user-profile/${userProfile.userProfileId}/image/download`} />) : null}\r\n          \r\n          <br/>\r\n          <br/>\r\n          \r\n          <h1>{userProfile.username} </h1>\r\n          <h2>{userProfile.username} </h2>\r\n          <p>{userProfile.userProfileId}</p>\r\n          <Dropzone {...userProfile}/>\r\n          <br/>\r\n\r\n        </div>\r\n    )\r\n  })\r\n};\r\n\r\nfunction Dropzone({userProfileId}) {\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    // Do something with the files\r\n    const file = acceptedFiles[0];\r\n    console.log(file);\r\n    const formData = new FormData();\r\n    formData.append(\"file\",file);\r\n\r\n    axios.post(\r\n     `https://back-everglades-21857.herokuapp.com/api/v1/user-profile/${userProfileId}/image/upload`,\r\n    formData,\r\n    {\r\n      headers:{\r\n        \"Content-Type\" :\"multipart/form-data\"\r\n      }\r\n\r\n    }).then(()=>{\r\n      console.log(\"file upload successfully\")\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n\r\n  }, [])\r\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n  return (\r\n    <div {...getRootProps()}>\r\n      <input {...getInputProps()} />\r\n      {\r\n        isDragActive ?\r\n          (\r\n             <p>Drop the image  here ...</p>): (\r\n          <p>Drag 'n' drop profile image here, or click to select files</p>)\r\n          \r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <UserProfiles/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}