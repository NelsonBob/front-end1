{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\nelsf\\\\OneDrive\\\\Bureau\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\nelsf\\\\OneDrive\\\\Bureau\\\\frontend\\\\src\\\\App.js\";\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useDropzone } from 'react-dropzone';\nimport './App.css';\nimport axios from \"axios\";\n\nvar UserProfiles = function UserProfiles() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userProfiles = _useState2[0],\n      setUserProfiles = _useState2[1];\n\n  var fetchUserProfiles = function fetchUserProfiles() {\n    axios.get(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile\").then(function (res) {\n      console.log(res);\n      var data = res.data;\n      setUserProfiles(res.data);\n    });\n  };\n\n  useEffect(function () {\n    fetchUserProfiles();\n  }, []);\n  return userProfiles.map(function (userProfile, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }\n    }, userProfile.userProfileId ? /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://back-everglades-21857.herokuapp.com/api/v1/user-profile/\".concat(userProfile.userProfileId, \"/image/download\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 44\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, userProfile.username, \" \"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }, userProfile.username, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, userProfile.userProfileId), /*#__PURE__*/React.createElement(Dropzone, Object.assign({}, userProfile, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }\n    }));\n  });\n};\n\nfunction Dropzone(_ref) {\n  var userProfileId = _ref.userProfileId;\n  var onDrop = useCallback(function (acceptedFiles) {\n    // Do something with the files\n    var file = acceptedFiles[0];\n    console.log(file);\n    var formData = new FormData();\n    formData.append(\"file\", file);\n    axios.post(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile/\".concat(userProfileId, \"/image/upload\"), formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(function () {\n      console.log(\"file upload successfully\");\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var _useDropzone = useDropzone({\n    onDrop: onDrop\n  }),\n      getRootProps = _useDropzone.getRootProps,\n      getInputProps = _useDropzone.getInputProps,\n      isDragActive = _useDropzone.isDragActive;\n\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  })), isDragActive ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 14\n    }\n  }, \"Drop the image  here ...\") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Drag 'n' drop profile image here, or click to select files\"));\n}\n\nfunction App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UserProfiles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/nelsf/OneDrive/Bureau/frontend/src/App.js"],"names":["React","useState","useEffect","useCallback","useDropzone","axios","UserProfiles","userProfiles","setUserProfiles","fetchUserProfiles","get","then","res","console","log","data","map","userProfile","index","userProfileId","username","Dropzone","onDrop","acceptedFiles","file","formData","FormData","append","post","headers","catch","err","getRootProps","getInputProps","isDragActive","App"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useCallback} from \"react\";\r\nimport {useDropzone} from 'react-dropzone'\r\nimport './App.css';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst  UserProfiles =() => {\r\n\r\n  const [userProfiles,setUserProfiles] = useState([]);\r\n\r\n  const fetchUserProfiles = () => {\r\n    axios.get(\"https://back-everglades-21857.herokuapp.com/api/v1/user-profile\").then(res => {\r\n      console.log(res);\r\n      const data = res.data;\r\n      setUserProfiles(res.data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserProfiles();\r\n  },[]);\r\n  return userProfiles.map((userProfile,index) => {\r\n    return (\r\n        <div key={index}>\r\n          {  userProfile.userProfileId ? ( <img src = {`https://back-everglades-21857.herokuapp.com/api/v1/user-profile/${userProfile.userProfileId}/image/download`} />) : null}\r\n          \r\n          <br/>\r\n          <br/>\r\n          \r\n          <h1>{userProfile.username} </h1>\r\n          <h2>{userProfile.username} </h2>\r\n          <p>{userProfile.userProfileId}</p>\r\n          <Dropzone {...userProfile}/>\r\n          <br/>\r\n\r\n        </div>\r\n    )\r\n  })\r\n};\r\n\r\nfunction Dropzone({userProfileId}) {\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    // Do something with the files\r\n    const file = acceptedFiles[0];\r\n    console.log(file);\r\n    const formData = new FormData();\r\n    formData.append(\"file\",file);\r\n\r\n    axios.post(\r\n     `https://back-everglades-21857.herokuapp.com/api/v1/user-profile/${userProfileId}/image/upload`,\r\n    formData,\r\n    {\r\n      headers:{\r\n        \"Content-Type\" :\"multipart/form-data\"\r\n      }\r\n\r\n    }).then(()=>{\r\n      console.log(\"file upload successfully\")\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n\r\n  }, [])\r\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n  return (\r\n    <div {...getRootProps()}>\r\n      <input {...getInputProps()} />\r\n      {\r\n        isDragActive ?\r\n          (\r\n             <p>Drop the image  here ...</p>): (\r\n          <p>Drag 'n' drop profile image here, or click to select files</p>)\r\n          \r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <UserProfiles/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}